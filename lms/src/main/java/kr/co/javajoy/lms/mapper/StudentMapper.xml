<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="kr.co.javajoy.lms.mapper.StudentMapper">
	<select id="selectStudentOne"
			parameterType="String"
			resultType="java.util.Map">
		SELECT
			 s.member_id memberId
			,s.student_name studentName
			,s.student_gender studentGender
			,s.student_phone studentPhone
			,s.student_address studentAddress
			,s.student_detailaddress studentDetailAddress
			,s.student_email studentEmail
			,s.student_education studentEducation
			,s.student_register_date studentRegisterDate
			,mp.member_photo_name memberPhotoName
		FROM student s
   LEFT JOIN member_photo mp
   		  ON s.member_id = mp.member_id
  WHERE s.member_id = #{memberId}
	</select>

	<update id="updateStudentOne"
			parameterType="String">
		UPDATE student SET 
			student_name = #{studentName}
			,student_gender = #{studentGender}
			,student_phone = #{studentPhone}
			,student_email = #{studentEmail}
			,student_education = #{studentEducation}
			,student_address = #{studentAddress}
			,student_detailaddress = #{studentDetailAddress}
			,update_date = NOW()
		WHERE member_id = #{memberId}
	</update>
	
</mapper>